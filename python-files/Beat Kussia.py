import random
import time

# Настройки
kusa_name = "Каша"
player_name = input("Как тебя называть? ").strip() or "Терпила"

# Выбор Каши
while True:
    print("\nВыбери свою Кашу:")
    print("1. KUSSIA PRIME (2021–2024) — глава троллинга СНГ, рвёт всех.")
    print("2. KUSSIA NOW   (2025) — тень прайм каши, но всё ещё тролль.")
    version = input("Твой выбор (1–2): ").strip()
    if version == "1":
        kusa_type = "PRIME"
        kusa_mood = "rage"
        break
    elif version == "2":
        kusa_type = "NOW"
        kusa_mood = "irony"
        break
    else:
        print("Неверный ввод, попробуй снова.")

# Память и очки
input_score = 0
last_input = ""
mem = ["", "", ""]  # Последние 3 реплики

def analyze_input(text):
    global input_score
    input_score = 0
    text_lower = text.lower()

    insults = [
        "хуй", "пизда", "ебан", "мудак", "дебил", "сука", "гандон", "долбоёб", "пидор",
        "шлюха", "шлак", "уёбище", "говно", "бестолочь", "ты охуел", "жалкое подобие",
        "пустой звук", "ни на что не годен", "сосал", "прыщавый", "сам", "лох", "глупый", "замкнутый", "терпила", "жирный", "заплачь",  "завались", "пожалуйста", "никто", "хватит", "кринж", "рофл", "кек", "ор", "lul", "пхах", "смешно", "lol", "лол", "мозги", "прекрати", "не обзывайся", "голова", "ну", "ниче", "ачо", "че", "чо", "ничо", "и что", "угу", "сосал", "прыщавый", "еще что скажишь", "путин", "сво", "война", "трамп", "зеленский", "хохол", "да я", "сам", "но", "и", "ну и", "что дальше", "какойже ты", "а ты самый умный", "а ты", "умный", "у тебя работает голова?", "у тебя", "а у тебя", "я", "я добился" "я хотя бы", "а твоя", "твоя", "твой", "а твой", "а", "но", "мамка", "мама", "папа", "отчим", "ебали", "папка", "отец", "матушка", "думаешь"
    ]
    trolling = [
        ""
    ]
    facts = [
        "фактически", "статистика", "по факту", "докажи", "философ", "эксперты",
        "цитата", "исследование", "почему бы и нет", "кажется", "вот так", "по факту", "например", "обобщая", "факты"
    ]

    for word in insults:
        if word in text_lower:
            input_score -= 5
    if "факт" in text_lower:
        input_score -= 2

    for word in trolling:
        if word in text_lower:
            input_score += 3
    for word in facts:
        if word in text_lower:
            input_score += 2

    input_score += random.randint(-1, 1)

def react():
    global kusa_mood
    print(f"\n[{kusa_name} {kusa_type} | Настроение: {kusa_mood} | Очки: {input_score}]")
    print("-" * 60)
    
    if last_input == "":
        print(f"{kusa_name}: Ну и че ты терпила, {player_name}, продолжай молчать если нет мамы")
        return

    rand = random.randint(0, 16)

    if kusa_type == "PRIME":
        if kusa_mood == "rage":
            responses = [
                "Ты хоть думаешь что пишешь?. ХАХАХ",
                "Хватит говорить со стеной",
                "Ты пытаешься думать? Как мило. ХАХАХХАХ",
                "Больше не думай пожалуйста АХАХА",
                "Вижу, хохол разговорился. АХАХАХА",
                "Какой же ты ироничный.",
                "Мне выйти из чата?",
                "Молодец, сказал что-то, хоть что-то умеешь. ААХАХАХАХ",
                "Продолжай. Я не против унижать тебя. ХАХАХАХА",
                "Назови одно своё достижение, если ты вообще вставал с дивана. АХАХАХАХХ",
                "Терпила забыл как терпеть АХАХАХАХ",
                "Твоё 'но' — мой следующий мем. ХАХАХАХАХАА",
                "Ну все не плачь, сейчас напишут «унизил бедолагу»",
                "О, у кого-то включился 1 айку. ХАХАХАХХА",
                f"Ты говорил '{mem[0]}' - больше не говори вообще",
                "Хочешь продолжать? Тогда терпи, терпила.",
                "Чего ты добился? Можешь не отвечать я знаю что ничего ХАХАХАХАХА",
            ]
        else:
            responses = [
                "Ну и? Что дальше?",
                "Скучно уже.",
                "Ещё что скажешь?",
                "И что?",
                "Смешно.",
                "Ну же, что за затишье?",
                "Не забудь своё 'но'.",
                "Твой вздох звучит жалобно.",
                f"Ты говорил '{mem[1]}', помнишь?",
                "И что",
                "Душно.",
                "ДУШНО.",
                "Душно, душно, душно.",
                "Молодец, больше не открывай рот.",
                "Скучный.",
                f"Ты писал '{mem[2]}'. Звучит глупо.",
                "Ну же, чмо, что ещё умеешь?",
            ]
    elif kusa_type == "NOW":
        if kusa_mood == "irony":
            responses = [
                f"О, {player_name}, ты как обезьяна с гранатой. Хахахаха",
                "Хаха интересно, но не впечатляет.",
                "Ты правда в это веришь? Хахахаха",
                "Ладно, звучит логично... шучу.",
                "Сосал? Я знаю что да.",
                "Мне бы твою уверенность, но я устал.",
                f"Ты говорил '{mem[1]}'. Люблю этот оборот.",
                f"И правда ли это, {player_name}?",
                "Звучит достойно... почти.",
                "Может, не стоит усложнять?",
                "Твой факт — лишь пыль.",
                "Слишком много логики, не душни.",
                "Вижу, ты подготовился.",
                "Ну что, рецепт провала готов? Хахахах",
                f"Говоришь '{mem[0]}'? Смешно.",
                "Я слушаю, но не верю.",
                "Ты знаешь, когда стоит молчать? Хахаха",
            ]
        else:
            responses = [
                "*вздыхает* странно.",
                "Да, странно, как и ты.",
                "Не душни, спасибо.",
                "Хорошо, но мне всё равно.",
            ]

    print(f"{kusa_name}: {responses[rand % len(responses)]}")

# Главный цикл
while True:
    react()
    user_input = input("\nТы: ").strip() or "..."
    mem = [user_input] + mem[:2]
    last_input = user_input
    analyze_input(user_input)

    if input_score > 3:
        kusa_mood = "happy" if kusa_type == "PRIME" else "annoyed"
    elif input_score < -3:
        kusa_mood = "rage" if kusa_type == "PRIME" else "irony"
    else:
        kusa_mood = "neutral"

    print()
    time.sleep(1)
