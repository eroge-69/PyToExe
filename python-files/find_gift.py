import base64
from PIL import Image
import io


def text_to_image(text_file_path, output_image_path):
    """
    Конвертирует текстовое представление обратно в изображение
    """
    try:
        # Читаем зашифрованный текст
        with open(text_file_path, 'r', encoding='utf-8') as f:
            encoded_string = f.read()

        # Декодируем из base64
        img_data = base64.b64decode(encoded_string)

        # Создаем изображение из байтов
        img = Image.open(io.BytesIO(img_data))

        # Сохраняем изображение
        img.save(output_image_path)

        print(f"Текст успешно расшифрован в изображение: {output_image_path}")
        return True

    except Exception as e:
        print(f"Ошибка при расшифровке: {e}")
        return False

# Пример использования
art = r"""
╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║  ██████╗ ██████╗  ██████╗  ██████╗ ██████╗  █████╗ ███╗   ███╗  ║
║  ██╔══██╗██╔══██╗██╔═══██╗██╔════╝ ██╔══██╗██╔══██╗████╗ ████║  ║
║  ██████╔╝██████╔╝██║   ██║██║  ███╗██████╔╝███████║██╔████╔██║  ║
║  ██╔═══╝ ██╔══██╗██║   ██║██║   ██║██╔══██╗██╔══██║██║╚██╔╝██║  ║
║  ██║     ██║  ██║╚██████╔╝╚██████╔╝██║  ██║██║  ██║██║ ╚═╝ ██║  ║
║  ╚═╝     ╚═╝  ╚═╝ ╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝     ╚═╝  ║
║                                                              ║
║   ███████╗ ██████╗ ██╗███╗   ██╗██████╗ ██╗███╗   ██╗ ██████╗  ║
║   ██╔════╝██╔═══██╗██║████╗  ██║██╔══██╗██║████╗  ██║██╔════╝  ║
║   █████╗  ██║   ██║██║██╔██╗ ██║██║  ██║██║██╔██╗ ██║██║  ███╗ ║
║   ██╔══╝  ██║   ██║██║██║╚██╗██║██║  ██║██║██║╚██╗██║██║   ██║ ║
║   ██║     ╚██████╔╝██║██║ ╚████║██████╔╝██║██║ ╚████║╚██████╔╝ ║
║   ╚═╝      ╚═════╝ ╚═╝╚═╝  ╚═══╝╚═════╝ ╚═╝╚═╝  ╚═══╝ ╚═════╝  ║
║                                                              ║
║   ███████╗██╗███╗   ██╗██████╗ ██╗███╗   ██╗ ██████╗         ║
║   ██╔════╝██║████╗  ██║██╔══██╗██║████╗  ██║██╔════╝         ║
║   █████╗  ██║██╔██╗ ██║██║  ██║██║██╔██╗ ██║██║  ███╗        ║
║   ██╔══╝  ██║██║╚██╗██║██║  ██║██║██║╚██╗██║██║   ██║        ║
║   ██║     ██║██║ ╚████║██████╔╝██║██║ ╚████║╚██████╔╝        ║
║   ╚═╝     ╚═╝╚═╝  ╚═══╝╚═════╝ ╚═╝╚═╝  ╚═══╝ ╚═════╝         ║
║                                                              ║
║   ██████╗ ██╗███████╗██████╗ ████████╗███████╗               ║
║   ██╔══██╗██║██╔════╝██╔══██╗╚══██╔══╝██╔════╝               ║
║   ██████╔╝██║█████╗  ██████╔╝   ██║   █████╗                 ║
║   ██╔═══╝ ██║██╔══╝  ██╔══██╗   ██║   ██╔══╝                 ║
║   ██║     ██║███████╗██║  ██║   ██║   ███████╗               ║
║   ╚═╝     ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝   ╚══════╝               ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
    """
print(art)
print("Для входа требуется пароль.")
#while(input("Введите пароль: ") != "56391"):
 #   print("Неверный пароль.")
print("Пароль принят.")
text_to_image(".\data\configs.txt", "gift_loction.jpg")
print("Ответ загружен в файл: gift_location.jpg")